# フェーズ1: 基礎設定

## 目標
Goプロジェクトの基盤を構築し、今後の開発のための環境を整える

## 実施内容

### 1. Goモジュールの初期化

```bash
go mod init github.com/tasukuchiba/text_messaging_app
```

**説明:**
- `go mod` はGoの依存関係管理ツールです
- `go.mod` ファイルが作成され、プロジェクトのモジュール名と依存関係が管理されます
- モジュール名は通常、GitHubのリポジトリパスに基づいて命名します

**作成されたファイル:**
- `go.mod`: モジュール定義ファイル

### 2. ディレクトリ構造の作成

以下のディレクトリ構造を作成しました：

```
text_messaging_app/
├── cmd/
│   └── server/          # アプリケーションのエントリーポイント
├── internal/
│   ├── handlers/        # HTTPリクエストハンドラー
│   ├── models/          # データ構造の定義
│   └── storage/         # データストレージ層
├── pkg/
│   └── websocket/       # 再利用可能なWebSocketパッケージ
└── docs/                # プロジェクトドキュメント
```

**ディレクトリの役割:**

#### `cmd/`
- アプリケーションの実行可能ファイル（エントリーポイント）を配置
- `cmd/server/main.go` にサーバーの起動コードを記述します
- 複数のアプリケーションがある場合は、`cmd/client/` など追加できます

#### `internal/`
- このプロジェクト専用のプライベートなコードを配置
- Goでは `internal/` ディレクトリ内のコードは、外部パッケージからインポートできません
- アプリケーションのコアロジックを配置します

**内部構造:**
- `handlers/`: HTTPリクエストを処理する関数
- `models/`: メッセージ、ユーザーなどのデータ構造
- `storage/`: データの保存・取得を行うレイヤー

#### `pkg/`
- 他のプロジェクトでも再利用可能な汎用的なパッケージを配置
- 外部にも公開できる品質のコードを書きます
- 今回は WebSocket 関連の汎用コードを配置予定

#### `docs/`
- プロジェクトのドキュメントを配置
- 各フェーズの説明、APIドキュメントなど

### 3. .gitignore ファイルの作成

Gitで管理する必要のないファイルを除外するための設定ファイルを作成しました。

**除外対象:**
- ビルド成果物（`*.exe`, `*.dll` など）
- テストファイル（`*.test`）
- IDE設定ファイル（`.vscode/`, `.idea/`）
- OS固有ファイル（`.DS_Store`）
- 環境変数ファイル（`.env`）
- ログファイル（`*.log`）

### 4. README.md の作成

プロジェクトの概要、セットアップ手順、ディレクトリ構造などを記載したREADMEを作成しました。

**内容:**
- プロジェクトの目標
- 使用する技術スタック
- ディレクトリ構造の説明
- セットアップ手順
- 各フェーズの概要

## 学習ポイント

### Go モジュールとは？

Goのモジュールシステムは、以下を管理します：
- **依存関係**: 外部パッケージのバージョン管理
- **バージョニング**: セマンティックバージョニングを使用
- **再現性**: どの環境でも同じバージョンの依存関係を使用

`go.mod` ファイルには以下が記録されます：
```go
module github.com/tasukuchiba/text_messaging_app

go 1.21
```

### Go プロジェクトの標準的なレイアウト

Goコミュニティで広く採用されている標準的なプロジェクト構造を採用しました。

**メリット:**
1. **可読性**: 他の開発者がコードを理解しやすい
2. **保守性**: コードの配置場所が明確
3. **スケーラビリティ**: プロジェクトが大きくなっても対応可能

参考: [Standard Go Project Layout](https://github.com/golang-standards/project-layout)

### internal/ と pkg/ の違い

| ディレクトリ | 公開範囲 | 用途 |
|------------|---------|------|
| `internal/` | プロジェクト内のみ | アプリケーション固有のロジック |
| `pkg/` | 外部からもインポート可能 | 再利用可能なライブラリ |

## 次のステップ

フェーズ1が完了しました！次は **フェーズ2: シンプルなメッセージングAPI** に進みます。

フェーズ2では以下を実装します：
- HTTPサーバーの起動
- メッセージ送信APIエンドポイント
- メッセージ取得APIエンドポイント
- インメモリストレージ

## 確認事項

このフェーズの内容を理解できましたか？以下の点について確認してください：

1. **Goモジュールの役割** を理解していますか？
2. **各ディレクトリの目的** を把握していますか？
3. **internal/ と pkg/ の違い** が分かりますか？

不明な点があれば、遠慮なく質問してください！
